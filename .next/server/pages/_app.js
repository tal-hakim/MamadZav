"use strict";(()=>{var e={};e.id=888,e.ids=[888],e.modules={9532:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>c});var n=r(997),s=r(2210),o=r(7792),i=e([s,o]);function c({children:e}){return(0,n.jsxs)(s.Box,{minH:"100vh",bg:"#fbf6f0",children:[n.jsx(o.Z,{}),n.jsx(s.Container,{maxW:"container.xl",px:{base:4,md:8},py:{base:4,md:6},children:e})]})}[s,o]=i.then?(await i)():i,a()}catch(e){a(e)}})},7792:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>h});var n=r(997),s=r(2210),o=r(6317),i=r(1163),c=r(6134),l=e([s,o,c]);function h(){let{user:e,logout:t}=(0,o.a)(),r=(0,i.useRouter)(),{isOpen:a,onOpen:l,onClose:h}=(0,s.useDisclosure)(),d=(0,s.useBreakpointValue)({base:!0,md:!1}),u=()=>{t(),r.push("/login"),h()},x=()=>n.jsx(n.Fragment,{children:e?(0,n.jsxs)(n.Fragment,{children:[n.jsx(s.Button,{variant:"ghost",onClick:()=>{r.push("/"),h()},color:"/"===r.pathname?"blue.500":void 0,children:"Home"}),n.jsx(s.Button,{variant:"ghost",onClick:()=>{r.push("/test-friends"),h()},color:"/test-friends"===r.pathname?"blue.500":void 0,children:"Add Friends"}),n.jsx(s.Button,{variant:"ghost",onClick:u,children:"Logout"})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(s.Button,{variant:"ghost",onClick:()=>{r.push("/login"),h()},color:"/login"===r.pathname?"blue.500":void 0,children:"Login"}),n.jsx(s.Button,{variant:"ghost",onClick:()=>{r.push("/register"),h()},color:"/register"===r.pathname?"blue.500":void 0,children:"Register"})]})});return n.jsx(s.Box,{bg:"#f9f1e2",px:4,shadow:"sm",position:"sticky",top:0,zIndex:1e3,children:(0,n.jsxs)(s.Flex,{h:{base:20,md:24},alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(s.HStack,{spacing:4,alignItems:"center",children:[n.jsx(s.Image,{src:"/images/logo.png",alt:"MamadZav Logo",height:{base:"50px",md:"80px"},width:{base:"50px",md:"80px"},cursor:"pointer",onClick:()=>r.push("/")}),n.jsx(s.Text,{fontSize:{base:"2xl",md:"4xl"},fontWeight:"bold",fontFamily:"'Varela Round', sans-serif",cursor:"pointer",onClick:()=>r.push("/"),children:"MamadZav"})]}),d?(0,n.jsxs)(n.Fragment,{children:[n.jsx(s.IconButton,{"aria-label":"Open menu",icon:n.jsx(c.HamburgerIcon,{}),onClick:l,variant:"ghost"}),(0,n.jsxs)(s.Drawer,{isOpen:a,placement:"right",onClose:h,children:[n.jsx(s.DrawerOverlay,{}),(0,n.jsxs)(s.DrawerContent,{children:[n.jsx(s.DrawerCloseButton,{}),n.jsx(s.DrawerHeader,{children:"Menu"}),n.jsx(s.DrawerBody,{children:n.jsx(s.VStack,{spacing:4,align:"stretch",children:n.jsx(x,{})})})]})]})]}):n.jsx(s.Stack,{direction:"row",spacing:4,children:n.jsx(x,{})})]})})}[s,o,c]=l.then?(await l)():l,a()}catch(e){a(e)}})},6317:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{H:()=>c,a:()=>l});var n=r(997),s=r(6689),o=r(9648),i=e([o]);o=(i.then?(await i)():i)[0];let h=(0,s.createContext)(void 0);function c({children:e}){let[t,r]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0),c=async(e,t)=>{try{let{token:a,user:n}=(await o.default.post("/api/auth/login",{emailOrUsername:e,password:t})).data;localStorage.setItem("token",a),r(n)}catch(e){throw Error("Login failed")}},l=async(e,t,a,n)=>{try{let{token:s,user:i}=(await o.default.post("/api/auth/register",{email:e,password:t,name:a,username:n})).data;localStorage.setItem("token",s),r(i)}catch(e){throw Error("Registration failed")}},d=async()=>{try{await o.default.post("/api/user/check-in",{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r(e=>e?{...e,lastCheckIn:new Date}:null)}catch(e){throw Error("Check-in failed")}},u=async e=>{try{await o.default.post("/api/user/ping",{friendId:e},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(e){throw Error("Failed to ping friend")}};return n.jsx(h.Provider,{value:{user:t,loading:a,login:c,register:l,logout:()=>{localStorage.removeItem("token"),r(null)},checkIn:d,pingFriend:u},children:e})}function l(){let e=(0,s.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}a()}catch(e){a(e)}})},3893:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>h});var n=r(997),s=r(2210),o=r(6317),i=r(9532),c=r(1790),l=e([s,o,i,c]);[s,o,i,c]=l.then?(await l)():l;let h=function({Component:e,pageProps:t}){return n.jsx(s.ChakraProvider,{theme:c.Z,children:n.jsx(o.H,{children:n.jsx(i.Z,{children:n.jsx(e,{...t})})})})};a()}catch(e){a(e)}})},1790:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>o});var n=r(2210),s=e([n]);n=(s.then?(await s)():s)[0];let o=(0,n.extendTheme)({fonts:{heading:"'Varela Round', sans-serif",body:"'Varela Round', sans-serif"},colors:{blue:{500:"#3674B5"}},components:{Button:{variants:{ghost:{_hover:{bg:"#E8EEF2"}}}}}});a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},6134:e=>{e.exports=import("@chakra-ui/icons")},2210:e=>{e.exports=import("@chakra-ui/react")},9648:e=>{e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[567,163],()=>r(3893));module.exports=a})();